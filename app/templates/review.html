<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeOps MVP - Review</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body class="bg-gray-100 h-screen font-sans">
    {% include 'navbar.html' %}

    <div class="container mx-auto p-4">
        <h1 class="text-4xl mb-4 text-center">Merge Request Review</h1>

        <!-- Merge Request Review -->
        <div class="bg-white p-6 rounded">
            <h2 class="text-2xl mb-4">AI Feedback</h2>
            <form id="review-form" method="post">
                <textarea id="content" name="content" class="w-full h-32 p-4 mb-4 border rounded" placeholder="Update your merge_request">{{ merge_request_content }}</textarea>
                <p id="feedback" class="mt-4">{{ feedback }}</p>
                <p id="approval" class="mt-4 text-2xl" style="color: {{ 'green' if approval else 'red' }}">{{ 'Merge Request Approved' if approval else 'Merge Request Denied' }}</p>
                <button id="commit-btn" type="button" class="text-white px-6 py-2 rounded" {{ 'disabled' if not approval }}>Commit to Life Document</button>
                <button id="submit-request-btn" type="button" class="text-white px-6 py-2 rounded">Submit Request</button>
            </form>
        </div>

        <!-- Historical Reviews -->
        <div class="bg-white p-6 rounded mt-6">
            <h2 class="text-2xl mb-4">History</h2>
            <div id="history">
            <!-- History contents would go here -->
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>
</html>
